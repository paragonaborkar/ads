<div class="row d-flex justify-content-center">

  <div class="col-lg-8 col-md-10 mb-2">
    <h2 class="h3">Manage Administrative ADS Users</h2>
  </div>

  <div class="col-lg-8 col-md-10">
    <button class="btn btn-primary" (click)="showCreateModal()" id="admin-btn-add-user">Add User</button>
    <div class="pull-right">

      <button type="button" class="btn btn-link" (click)="showPropertyModal()">
        <i class="fa fa-cog fa-2x" title="Column Settings"></i>
      </button>
    </div>

    <div class=" mt-3" *ngIf="rows.length > 0 && columns.length > 0">
      <ngx-datatable class="material card" [rows]="rows" [columns]="columns" [columnMode]="'force'" [rowHeight]="auto" [externalPaging]="true"
        [count]="page.totalElements" [offset]="page.number" [limit]="page.size" [headerHeight]="50" [footerHeight]="50" (page)='setPage($event)'>
      </ngx-datatable>
    </div>
  </div>
</div>


<app-data-table-col-templates></app-data-table-col-templates>

<ng-template #actionTmpl let-column="column" let-row="row">
  <button class="btn btn-sm btn-primary" (click)="showUpdateModal(row)" id="btnNativeUserEdit">
    <i class="fa fa-edit"></i>
  </button>
  <button class="btn btn-sm btn-warning" md-icon-button (click)="showChangePassword(row)" id="btnNativeUserPassword">
    <i class="fa fa-key"></i>
  </button>
  <button class="btn btn-sm btn-danger" md-icon-button (click)="showDeleteModal(row)" id="btnNativeUserDelete">
    <i class="fa fa-trash"></i>
  </button>
</ng-template>



<prop-preferences-modal class="modal fade" *ngIf="isPropPreferenceModal" [config]="{ show: true, backdrop:'static' }" bsModal #propPreferenceModal="bs-modal"
  (done)="onHide('propPreferenceModal')" [pageName]="pageName"></prop-preferences-modal>


<native-user-create class="modal fade" bsModal #addModal="bs-modal" *ngIf="isCreateModal" [config]="{ show: true, backdrop:'static' }" (saved)="onHide('create')"
  (cancel)="onHide('create')"></native-user-create>

<native-user-update class="modal fade" bsModal #updateModal="bs-modal" *ngIf="isUpdateModal" [config]="{ show: true, backdrop:'static' }" [inputUser]="User"
  (saved)="onHide('update')" (cancel)="onHide('update')"></native-user-update>

<native-user-delete class="modal fade" bsModal #deleteModal="bs-modal" *ngIf="isDeleteModal" [config]="{ show: true, backdrop:'static' }" [User]="User"
  (delete)="onHide('delete')" (cancel)="onHide('delete')"></native-user-delete>

<app-native-user-change-pw  class="modal fade" bsModal #pwModal="bs-modal" *ngIf="isPwModal" [config]="{ show: true, backdrop:'static' }" [User]="User"
  (changePw)="onHide('changePw')" (cancel)="onHide('changePw')"></app-native-user-change-pw>
 